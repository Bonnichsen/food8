<!DOCTYPE html>
<html lang="da">

<head>
	<!--- META TEXT: SEO --->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="keywords" content="">
	<meta name="title" content="">

	<!-- META TEXT: SEO END -->
	<title>Food8</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>

	<div id="grid-container" class="steder">

		<section data-container></section>


	</div>


	<template data-template>
       <article>
          <img src="" alt="-" data-billede>
          <p data-dato></p>
           <h2 data-overskrift></h2>
           <h3 data-manchet></h3>
           <p data-textcontent></p>
           <button data-button="">LÃ¦s mere</button>
       </article>


   </template>

	<script>
		let jSonUrl = "http://benjaminbonnichsen.dk/food8/wordpress/wp-json/wp/v2/restauranter";
		let display = document.querySelector("[data-templatedisplay]");
		let template = document.querySelector("[data-template]");
		let steder = [];


		document.addEventListener("DOMContentLoaded", hentJson);

		async function hentJson() {
			let dataJson = await fetch(jSonUrl);
			steder = await dataJson.json();
			console.log("Stop making fetch happen Gretchen!");
			visSteder();
		};


		function visSteder() {
			steder.forEach(sted => {
				console.log(sted);
				let templateModtager = document.querySelector("[data-container]");
				let klon = template.cloneNode(true).content;

				klon.querySelector("[data-overskrift]").textContent = sted.title.rendered;
				klon.querySelector("[data-billede]").src = sted.acf.billede;
				klon.querySelector("[data-manchet]").textContent = sted.acf.manchet;
				klon.querySelector("[data-textcontent]").innerHTML = sted.content.rendered;
				klon.querySelector("[data-button]").addEventListener("click", () => {
					location.href = "sted.html?sted="
				})
				templateModtager.appendChild(klon);
				console.log("The Klon War is over!")
			});
		}


		document.querySelector("#noho").addEventListener("click", () => {
			location.href = "sted.html?sted=noho"
		})
		document.querySelector("#cleavers").addEventListener("click", () => {
			location.href = "sted.html?sted=cleavers"
		})
		document.querySelector("#fleisch").addEventListener("click", () => {
			location.href = "sted.html?sted=fleisch"
		})
		document.querySelector("#rodderVin").addEventListener("click", () => {
			location.href = "sted.html?sted=rodderVin"
		})
		document.querySelector("#spisehuset").addEventListener("click", () => {
			location.href = "sted.html?sted=spisehuset"
		})
		document.querySelector("#FatPike").addEventListener("click", () => {
			location.href = "sted.html?sted=FatPike"
		})
		document.querySelector("#metier").addEventListener("click", () => {
			location.href = "sted.html?sted=metier"
		})
		document.querySelector("#unMercato").addEventListener("click", () => {
			location.href = "sted.html?sted=unMercato"
		})
	</script>
</body>

</html>

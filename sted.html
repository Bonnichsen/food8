<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="">
</head>

<body>
    <section data-container>
        <h1></h1>
        <article>
            <img src="" alt="-" data-billede>
            <h2 data-overskrift></h2>
            <h3 data-manchet></h3>
            <p data-textcontent></p>
            <button data-button="">LÃ¦s mere</button>
        </article>
    </section>

    <script>
        let url = new URL(window.location.href);
        let searchParams = new URLSearchParams(url.search);
        let id = searchParams.get("id");
        let apiURL = "http://benjaminbonnichsen.dk/food8/wordpress/wp-json/wp/v2/restauranter/" + id;
        let sted = {};

        document.addEventListener("DOMContentLoaded", hentJson);

        async function hentJson() {
            let dataJson = await fetch(apiURL);
            sted = await dataJson.json();
            console.log("It's so fetch to be single, Gretchen!");
            visSted();
        };

        function visSted() {
            let display = document.querySelector("[data-container]");

            display.querySelector("[data-overskrift]").textContent = sted.title.rendered;
            display.querySelector("[data-billede]").src = sted.acf.billede;
            display.querySelector("[data-manchet]").textContent = sted.acf.manchet;
            display.querySelector("[data-textcontent]").innerHTML = sted.content.rendered;
            display.querySelector("[data-button]").addEventListener("click", () => {
                location.href = "sted.html?id=" + sted.id;
            });
            console.log("You're now in singleview!")
        };
    </script>
</body>

</html>
